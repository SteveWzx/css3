<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style id="css">
#list{width:800px;height:360px;margin:70px auto; perspective:1200px;padding:0; list-style:none;}
#list li{width:40px;height:360px;float:left; position:relative; transform-style:preserve-3d; transform-origin:center center -180px;}
#list a{ position:absolute;width:100%;height:100%;left:0;}
#list a:nth-of-type(1){ background:url(img/1.jpg) no-repeat;top:0;}
#list a:nth-of-type(2){ background:url(img/2.jpg) no-repeat;top:-360px; transform-origin:bottom; transform:rotateX(90deg);}
#list a:nth-of-type(3){ background:url(img/3.jpg) no-repeat;top:0px; transform: translateZ(-360px) rotateX(-180deg);}
#list a:nth-of-type(4){ background:url(img/4.jpg) no-repeat;top:360px; transform-origin:top; transform:rotateX(-90deg);}
#list span{width:360px;height:360px;background:#666; position:absolute;top:0;}
#list span:nth-of-type(1){left:-360px; transform-origin:right; transform:rotateY(-90deg);}
#list span:nth-of-type(2){left:100%; transform-origin:left; transform:rotateY(90deg);}
#btns{ text-align:center;}
#btns a{ display:inline-block; width:30px;height:30px; font:16px/30px Arial; text-align:center; color:#fff;background:#000; text-decoration:none; border-radius:50%; margin:0 30px;}
#list li:nth-of-type(1) a{background-position:0 0;}
/*#list li:nth-of-type(2) a{background-position:-40px 0;}
#list li:nth-of-type(3) a{background-position:-80px 0;}*/
#btns .active{ background:#f60;}
</style>
<script>
window.onload=function()
{
	var oList=document.getElementById("list");
	var aLi=oList.getElementsByTagName("li");
	var oCss=document.getElementById("css");
	var aBtns=document.getElementById("btns").children;
	var iLiW=40;
	var iLength=parseInt(oList.clientWidth/iLiW);
	var sHtml="",sCss="";
	var iZindex=0;
	var iNow=0;
	for(var i=0;i<iLength;i++)
	{
		i>iLength/2?iZindex--:iZindex++;
		sHtml+='<li><a href="javascript:;"></a><a href="javascript:;"></a><a href="javascript:;"></a><a href="javascript:;"></a><span></span><span></span></li>';
		sCss+="#list li:nth-of-type("+(i+1)+"){z-index:"+iZindex+";}"
		sCss+="#list li:nth-of-type("+(i+1)+") a{background-position:-"+i*iLiW+"px 0;}";
	}
	oCss.innerHTML+=sCss;
	oList.innerHTML=sHtml;
	for(var i=0;i<aBtns.length;i++)
	{
		(function(a){
			alert(a);
			aBtns[a].onclick=function()
			{
				aBtns[iNow].className="";
				iNow=a;
				aBtns[iNow].className="active";
				for(var i=0;i<aLi.length;i++)
				{
					aLi[i].style.transition=".5s "+i*50+"ms";
					aLi[i].style.transform="rotateX(-"+iNow*90+"deg)";
				}
			};
		})(i);
	}
};
</script>
</head>
<body>
<ul id="list">
	<!--<li>
    	<a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <span></span>
        <span></span>
    </li>-->
</ul>
<p id="btns"> 
	<a href="javascript:;" class="active">1</a>
    <a href="javascript:;">2</a>
    <a href="javascript:;">3</a>
    <a href="javascript:;">4</a>
</p>
</body>
</html>
